# ğŸ•’ Time Agent - Agent Horaire Intelligent

Un agent dÃ©veloppÃ© avec Google ADK qui fournit l'heure actuelle pour diffÃ©rentes villes Ã  travers le monde.


## ğŸ“ Structure du Projet

```
my_agent/
â”œâ”€â”€ .env                    # Variables d'environnement (clÃ© API)
â”œâ”€â”€ .env.example           # Exemple de fichier d'environnement
â”œâ”€â”€ .gitignore            # Fichiers Ã  ignorer par Git
â””â”€â”€ agent.py              # Code principal de l'agent
```

## ğŸš€ FonctionnalitÃ©s

- âœ… Obtenir l'heure actuelle pour Abidjan
- ğŸŒ Prise en charge des fuseaux horaires IANA
- ğŸ•’ Format d'heure clair et lisible
- ğŸ”§ Architecture extensible pour ajouter d'autres villes
- ğŸ¤– PilotÃ© par le modÃ¨le Gemini 2.0 Flash de Google

## ğŸ› ï¸ Installation & Configuration

### PrÃ©requis

- Python 3.9 ou supÃ©rieur
- ClÃ© API Google AI Studio

### 1. Configuration de l'Environnement

```bash
# CrÃ©er un environnement virtuel
python -m venv .venv

# Activer l'environnement
# macOS/Linux :
source .venv/bin/activate
# Windows :
.venv\Scripts\activate
```

### 2. Installation des DÃ©pendances

```bash
# Installer Google ADK
pip install google-adk
```

### 3. Configuration de la ClÃ© API

**Ã‰ditez le fichier `.env` :**

```bash
GOOGLE_GENAI_USE_VERTEXAI=FALSE
GOOGLE_API_KEY=votre_cle_api_google_ici
```

**Ou copiez depuis le fichier exemple :**

```bash
cp .env.example .env
# Puis Ã©ditez .env avec votre vraie clÃ© API
```

### Contenu de `.env.example` :

```bash
# Configuration pour Google AI Studio
GOOGLE_GENAI_USE_VERTEXAI=FALSE
GOOGLE_API_KEY=votre_cle_api_google_ici

# Alternative: Configuration pour Vertex AI
# GOOGLE_GENAI_USE_VERTEXAI=TRUE
# GOOGLE_CLOUD_PROJECT=votre-project-id
```

## ğŸ“‹ Code de l'Agent

### `agent.py`

```python
import datetime
from zoneinfo import ZoneInfo
from google.adk.agents import Agent

def get_current_time(city: str) -> dict:
    """Retourne l'heure actuelle d'une ville donnÃ©e."""
    if city.lower() == "abidjan":
        tz_identifier = "Africa/Abidjan"
    else:
        return {
            "status": "error",
            "error_message": f"Sorry, I don't have timezone info for {city}."
        }

    tz = ZoneInfo(tz_identifier)
    now = datetime.datetime.now(tz)
    report = f"The current time in {city} is {now.strftime('%Y-%m-%d %H:%M:%S %Z%z')}"
    return {"status": "success", "report": report}

root_agent = Agent(
    name="time_agent",
    model="gemini-2.0-flash",
    description="Agent qui rÃ©pond aux questions d'heure locale.",
    instruction="Tu es un agent utile qui donne l'heure d'une ville.",
    tools=[get_current_time],
)
```

## ğŸ¯ Utilisation

### Lancer l'Interface de DÃ©veloppement

```bash
# Se placer dans le dossier contenant my_agent/
cd /chemin/vers/le/dossier/parent

# Lancer l'interface web ADK
adk web
```

Ouvrez ensuite http://localhost:8000 dans votre navigateur.

### Dans l'Interface Web :

1. **SÃ©lectionnez votre agent** : "time_agent" dans le menu dÃ©roulant
2. **Posez des questions** comme :
   - "Quelle heure est-il Ã  Abidjan ?"
   - "Donne-moi l'heure actuelle Ã  Abidjan"
   - "Time in Abidjan"

### Autres Modes d'ExÃ©cution

```bash
# Mode terminal
adk run

# Serveur API
adk api_server
```

## ğŸ”§ Extension du Projet

### Ajouter une Nouvelle Ville

Modifiez la fonction `get_current_time` dans `agent.py` :

```python
def get_current_time(city: str) -> dict:
    """Retourne l'heure actuelle d'une ville donnÃ©e."""
    city_timezones = {
        "abidjan": "Africa/Abidjan",
        "paris": "Europe/Paris", 
        "new york": "America/New_York",
        "tokyo": "Asia/Tokyo",
        "london": "Europe/London"
    }
    
    if city.lower() in city_timezones:
        tz_identifier = city_timezones[city.lower()]
    else:
        return {
            "status": "error",
            "error_message": f"Sorry, I don't have timezone info for {city}."
        }

    tz = ZoneInfo(tz_identifier)
    now = datetime.datetime.now(tz)
    report = f"The current time in {city} is {now.strftime('%Y-%m-%d %H:%M:%S %Z%z')}"
    return {"status": "success", "report": report}
```

### Ajouter d'autres Outils

```python
def get_weather(city: str) -> dict:
    """RÃ©cupÃ¨re la mÃ©tÃ©o pour une ville (exemple)."""
    if city.lower() == "abidjan":
        return {
            "status": "success",
            "report": "The weather in Abidjan is sunny, 28Â°C"
        }
    else:
        return {
            "status": "error", 
            "error_message": f"Weather info not available for {city}"
        }

# Mettez Ã  jour l'agent avec le nouvel outil
root_agent = Agent(
    name="time_agent",
    model="gemini-2.0-flash",
    description="Agent qui rÃ©pond aux questions d'heure et mÃ©tÃ©o.",
    instruction="Tu es un agent utile qui donne l'heure et la mÃ©tÃ©o des villes.",
    tools=[get_current_time, get_weather],
)
```

## ğŸ› DÃ©pannage

### ProblÃ¨mes FrÃ©quents

**Agent non visible dans l'interface :**
- VÃ©rifiez que vous exÃ©cutez `adk web` depuis le dossier parent de `my_agent`
- VÃ©rifiez que tous les fichiers sont correctement nommÃ©s

**Erreurs d'authentification :**
- VÃ©rifiez votre clÃ© API dans le fichier `.env`
- Assurez-vous que `GOOGLE_GENAI_USE_VERTEXAI=FALSE`

**ProblÃ¨mes sur Windows :**
```bash
adk web --no-reload
```

**Import errors :**
- VÃ©rifiez que Google ADK est installÃ© : `pip list | grep google-adk`
- VÃ©rifiez la version de Python : `python --version`

### Fichier `.gitignore` RecommandÃ©

Votre `.gitignore` devrait inclure :

```gitignore
# Environnements virtuels
.venv/
venv/
env/

# Fichiers d'environnement
.env
*.env

# Cache Python
__pycache__/
*.pyc

# Logs
*.log

# IDE
.vscode/
.idea/
```

## ğŸ“Š Monitoring et Debug

### Inspection des Appels

Dans l'interface web ADK :
- **Onglet "Events"** : Voir les appels de fonction dÃ©taillÃ©s
- **Onglet "Trace"** : Analyser les performances et la latence
- **Console** : Logs dÃ©taillÃ©s des exÃ©cutions

### Logs AvancÃ©s

Ajoutez du logging dans votre code :

```python
import logging

logging.basicConfig(level=logging.INFO)
logger = logging.getLogger(__name__)

def get_current_time(city: str) -> dict:
    logger.info(f"Demande d'heure pour la ville : {city}")
    # ... reste du code
```

## ğŸš€ DÃ©ploiement

### PrÃ©paration pour la Production

1. **SÃ©curisez les variables d'environnement**
2. **Utilisez Vertex AI** pour les dÃ©ploiements production :
   ```bash
   GOOGLE_GENAI_USE_VERTEXAI=TRUE
   GOOGLE_CLOUD_PROJECT=votre-project-id
   ```
3. **Authentifiez avec gcloud** :
   ```bash
   gcloud auth application-default login
   ```

## ğŸ“ Exemples d'Interaction

### Questions SupportÃ©es
- "Quelle heure est-il Ã  Abidjan ?"
- "Peux-tu me donner l'heure Ã  Abidjan ?"
- "Time in Abidjan"
- "Current time Abidjan"

### RÃ©ponses Attendues
```
"The current time in Abidjan is 2024-01-15 14:30:25 GMT+0000"
```

## ğŸ”® AmÃ©liorations Futures

- [ ] Ajouter plus de villes mondiales
- [ ] Support des conversions de fuseaux horaires  
- [ ] IntÃ©gration mÃ©tÃ©o
- [ ] Commandes vocales avec Gemini Live API
- [ ] Interface web personnalisÃ©e

---

**DÃ©veloppÃ© par Toure Souleymane**  
*#your_automation_guy* - SpÃ©cialiste en automatisation intelligente  
ğŸ“§ GitHub : [toure5013](https://github.com/toure5013)